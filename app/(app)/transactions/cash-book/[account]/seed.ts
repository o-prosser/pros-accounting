"use server";

import { transactionsTable } from "@/drizzle/schema";
import db from "@/lib/db";

export const seed = async (formData: FormData) => {
  const transactionsDummyData = [
    // 20 dummy transactions
    {
      date: new Date("2023-10-01"),
      name: "Dummy Transaction 1",
      receiptBookNumber: 1,
      income: 100.0,
      expense: null,
      account: "club",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is a dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-02"),
      name: "Dummy Transaction 2",
      receiptBookNumber: 2,
      income: null,
      expense: 50.0,
      account: "charity",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is another dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-03"),
      name: "Dummy Transaction 3",
      receiptBookNumber: 3,
      income: 200.0,
      expense: null,
      account: "club",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is yet another dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-04"),
      name: "Dummy Transaction 4",
      receiptBookNumber: 4,
      income: null,
      expense: 75.0,
      account: "club",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is a dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-05"),
      name: "Dummy Transaction 5",
      receiptBookNumber: 5,
      income: 150.0,
      expense: null,
      account: "charity",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is a dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-06"),
      name: "Dummy Transaction 6",
      receiptBookNumber: 6,
      income: null,
      expense: 120.0,
      account: "dutch",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is a dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-07"),
      name: "Dummy Transaction 7",
      receiptBookNumber: 7,
      income: 300.0,
      expense: null,
      account: "club",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is a dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-08"),
      name: "Dummy Transaction 8",
      receiptBookNumber: 8,
      income: null,
      expense: 80.0,
      account: "charity",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is a dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-09"),
      name: "Dummy Transaction 9",
      receiptBookNumber: 9,
      income: 400.0,
      expense: null,
      account: "charity",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is a dummy transaction for testing purposes.",
      fileId: null,
    },
    {
      date: new Date("2023-10-10"),
      name: "Dummy Transaction 10",
      receiptBookNumber: 10,
      income: null,
      expense: 90.0,
      account: "club",
      categoryId: "c5e0517f-5dab-4091-b8fd-701fce56dac1",
      subCategoryId: null,
      organisationId: "74079f9c-06e5-4be9-9e18-99b4d4abc168",
      finacialYearId: "b09e522c-0643-4326-b4e4-b05cab86eae4",
      notes: "This is a dummy transaction for testing purposes.",
      fileId: null,
    },
  ];

  await db.insert(transactionsTable).values(
    // @ts-ignore
    transactionsDummyData.map((transaction) => {
      const { account, ...rest } = transaction;

      return {
        account: account === "charity" ? "charity" : "club",
        ...rest,
      };
    }),
  );
};
